{"ast":null,"code":"import _slicedToArray from\"/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./01_1LoginPage.css\";import{Link,useNavigate,useLocation}from'react-router-dom';import{useState}from\"react\";import axios from\"axios\";import HanhwaLogo from\"../img/hanhwa-logo.svg\";import AuthLoading from\"../components/AuthLoading\";import{httpPaths,allowServerComm,homeAddress}from\"../utils/appConstants\";import{getNavURL,processServerResponse}from\"../utils/appUtils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ResetPwPage(){var _location$state,_location$state$from;var navigate=useNavigate();var location=useLocation();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userEmail=_useState2[0],setUserEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showLoadingScreen=_useState4[0],setShowLoadingScreen=_useState4[1];var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||homeAddress;function handleSubmit(event){event.preventDefault();if(!userEmail){alert(\"Please input email\");return;}if(allowServerComm){setShowLoadingScreen(true);axios.get(httpPaths[\"resetPw\"],{email:userEmail}).then(function(response){setShowLoadingScreen(false);var isOk=processServerResponse(response);if(!isOk){alert(\"User not found\");}else{alert(\"Check your email for instructions\");navigate(from,{replace:true});}}).catch(function(e){alert(\"Error: \"+e);setShowLoadingScreen(false);});}else{alert(\"Check your email for instructions\");navigate(from,{replace:true});}}var handleEmailInput=function handleEmailInput(event){setUserEmail(event.target.value);};var handleCancelClick=function handleCancelClick(){setShowLoadingScreen(false);};var loginUrl=getNavURL(\"/login\");return/*#__PURE__*/_jsx(\"div\",{className:\"columns is-mobile is-centered is-vcentered\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-two-fifths\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:!showLoadingScreen?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"has-text-centered\",children:[/*#__PURE__*/_jsx(\"img\",{src:HanhwaLogo,alt:\"Hanhwa logo\",className:\"auth-page-logo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"title is-5 mt-5\",children:\"LCA-TEA Platform\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"has-text-centered\",children:\"We will send instructions to your email on how to reset your password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"block\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"email\",placeholder:\"name@mail.com\",value:userEmail,onChange:handleEmailInput})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"has-text-centered\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-primary\",children:\"Send Email\"})})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"card-footer has-text-centered\",children:/*#__PURE__*/_jsx(Link,{to:loginUrl,className:\"card-footer-item\",children:\"Go Back\"})})]}):/*#__PURE__*/_jsx(AuthLoading,{onCancelClick:handleCancelClick})})})});}export default ResetPwPage;","map":{"version":3,"names":["Link","useNavigate","useLocation","useState","axios","HanhwaLogo","AuthLoading","httpPaths","allowServerComm","homeAddress","getNavURL","processServerResponse","ResetPwPage","navigate","location","userEmail","setUserEmail","showLoadingScreen","setShowLoadingScreen","from","state","pathname","handleSubmit","event","preventDefault","alert","get","email","then","response","isOk","replace","catch","e","handleEmailInput","target","value","handleCancelClick","loginUrl"],"sources":["/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/src/pages/01_2ResetPwPage.js"],"sourcesContent":["import \"./01_1LoginPage.css\";\n\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useState } from \"react\";\n\nimport axios from \"axios\";\n\nimport HanhwaLogo from \"../img/hanhwa-logo.svg\"\nimport AuthLoading from \"../components/AuthLoading\";\nimport { httpPaths, allowServerComm, homeAddress } from \"../utils/appConstants\";\nimport { getNavURL, processServerResponse } from \"../utils/appUtils\";\n\nfunction ResetPwPage() {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [showLoadingScreen, setShowLoadingScreen] = useState(false);\n\n  let from = location.state?.from?.pathname || homeAddress;\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if(!userEmail){\n      alert(\"Please input email\")\n      return;\n    }\n\n    if(allowServerComm){\n      setShowLoadingScreen(true)\n\n      axios.get(httpPaths[\"resetPw\"], {email: userEmail})\n      .then((response)=> {\n        setShowLoadingScreen(false)\n        let isOk = processServerResponse(response)\n  \n        if(!isOk){\n          alert(\"User not found\")\n        }else{\n          alert(\"Check your email for instructions\")\n          navigate(from, { replace: true });\n        }\n  \n      }).catch(e => {\n        alert(\"Error: \"+e)\n        setShowLoadingScreen(false)\n      });\n    }else{\n      alert(\"Check your email for instructions\");\n      navigate(from, { replace: true });\n    }\n  }\n\n  const handleEmailInput = (event) => {\n    setUserEmail(event.target.value)\n  }\n\n  const handleCancelClick = () => {\n    setShowLoadingScreen(false)\n  }\n  const loginUrl = getNavURL(\"/login\");\n  \n  return(\n    <div className=\"columns is-mobile is-centered is-vcentered\">\n      <div className=\"column is-two-fifths\">\n        <div className=\"card\">\n        \n          {!showLoadingScreen? (\n            <>\n              <div className=\"has-text-centered\">\n                <img src={HanhwaLogo} alt=\"Hanhwa logo\" className=\"auth-page-logo\"/>\n                <p className=\"title is-5 mt-5\">LCA-TEA Platform</p>\n              </div>\n\n              <div className=\"card-content\">\n                <div className=\"content\">\n                  \n                  <div className=\"has-text-centered\">\n                    We will send instructions to your email on how to reset your password\n                  </div>\n                  <div className=\"block\"/>\n\n                  <form onSubmit={handleSubmit}>\n                    <div className=\"field\">\n                      <label className=\"label\">Email</label>\n                      <div className=\"control\">\n                        <input className=\"input\" type=\"email\" placeholder=\"name@mail.com\" value={userEmail} onChange={handleEmailInput}/>\n                      </div>\n                    </div>\n\n                    <div className=\"has-text-centered\">\n                      <button className=\"button is-primary\">Send Email</button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n\n              <footer className=\"card-footer has-text-centered\">\n                <Link to={loginUrl} className=\"card-footer-item\">Go Back</Link>   \n              </footer>\n            </>\n          ):(\n            <AuthLoading onCancelClick={handleCancelClick}/>\n          )}\n\n        </div>\n      </div>\n    </div>\n  );\n}\n \nexport default ResetPwPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}