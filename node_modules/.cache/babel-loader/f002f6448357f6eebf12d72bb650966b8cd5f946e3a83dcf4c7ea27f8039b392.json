{"ast":null,"code":"import _toConsumableArray from\"/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import AppPageLayout from\"../components/AppPageLayout\";import BasicInfoSideMenu from\"../components/sideMenus/BasicInfoSideMenu\";import EditorTopMenu from\"../components/EditorTopMenu\";import{Cells,TallRow,RowLabel,getBIOutInletRows}from'../components/basicInfoTable/BIStreamsTableComps';import{separateCamelCase}from\"../utils/appUtils\";import{useSelector}from\"react-redux\";import{biInletRedux}from\"../redux/features/basicInfoSlice\";import{cloneDeep}from\"lodash\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var parseLabelName=function parseLabelName(name){try{var separateName=separateCamelCase(name);var firstlayer=separateName.replace(\" List\",\"\");var secondLayer=firstlayer.replace(\"Frac\",\"Fraction\");return secondLayer.replace(\"Fractiontion\",\"Fraction\");}catch(error){console.log(error);return name;}};function BIInletPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableRows=_useState2[0],setTableRows=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tableColHeaders=_useState4[0],setTableColHeaders=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),exportData=_useState6[0],setExportData=_useState6[1];var BIInletData=useSelector(biInletRedux);useEffect(function(){var _getBIOutInletRows=getBIOutInletRows(BIInletData),_getBIOutInletRows2=_slicedToArray(_getBIOutInletRows,2),theseRows=_getBIOutInletRows2[0],theseCols=_getBIOutInletRows2[1];var newExportData=[];theseRows.forEach(function(row){var newVal=row.value.join(\", \");var newRow=cloneDeep(row);delete newRow.rowId;delete newRow.rowIndex;newExportData.push(_objectSpread(_objectSpread({},newRow),{},{value:newVal}));});setExportData(newExportData);setTableRows(theseRows);setTableColHeaders([\"Stream Name\"].concat(_toConsumableArray(theseCols)));},[BIInletData]);var TableRows=function TableRows(_ref){var array=_ref.array;var multiRows=array.filter(function(row){return row.name===\"LiquidConcentrationList\"||row.name===\"MassFlowList\"||row.name===\"MassFracList\"||row.name===\"MoleFlowList\"||row.name===\"MoleFracList\"||row.name===\"VaporConcentrationList\";});var normalRows=array.filter(function(row){return!(row.name===\"LiquidConcentrationList\"||row.name===\"MassFlowList\"||row.name===\"MassFracList\"||row.name===\"MoleFlowList\"||row.name===\"MoleFracList\"||row.name===\"VaporConcentrationList\"||row.name===\"LiquidFraction\"||row.name===\"SolidFraction\"||row.name===\"VaporFraction\");});var lastRows=array.filter(function(row){return row.name===\"LiquidFraction\"||row.name===\"SolidFraction\"||row.name===\"VaporFraction\";});var renderedNormalRows=normalRows.map(function(row,rowIdx){var name=row.name,value=row.value,rowId=row.rowId;var columns=value.map(function(col,colIdx){return/*#__PURE__*/_jsx(Cells,{col:col},rowId+colIdx);});return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(RowLabel,{rowName:parseLabelName(name),lastRowName:rowIdx!==0?tableRows[rowIdx-1].name:\"\"}),columns]},rowId);});var renderedTallRows=multiRows.map(function(row,rowIdx){return/*#__PURE__*/_jsx(TallRow,{rowTitle:parseLabelName(row.name),columns:row.value},rowIdx);});var renderedLastRows=lastRows.map(function(row,rowIdx){var name=row.name,value=row.value,rowId=row.rowId;var columns=value.map(function(col,colIdx){return/*#__PURE__*/_jsx(Cells,{col:col},rowId+colIdx);});return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(RowLabel,{rowName:parseLabelName(name),lastRowName:rowIdx!==0?tableRows[rowIdx-1].name:\"\"}),columns]},rowId);});return renderedNormalRows.concat(renderedTallRows,renderedLastRows);};var renderedTableColumns=tableColHeaders.map(function(col,idx){return/*#__PURE__*/_jsx(\"th\",{className:idx>0?\"has-text-white has-text-centered\":\"has-text-white\",children:col},idx);});var ThisTable=function ThisTable(){return/*#__PURE__*/_jsxs(\"table\",{className:\"table is-hoverable is-narrow is-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"has-background-primary\",children:/*#__PURE__*/_jsx(\"tr\",{children:renderedTableColumns})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(TableRows,{array:tableRows})})]});};var exportFileName=\"AspenInfo-Streams-Inlet-Export (\".concat(new Date().toISOString(),\")\");return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(AppPageLayout,{sideMenu:/*#__PURE__*/_jsx(BasicInfoSideMenu,{}),children:[/*#__PURE__*/_jsx(EditorTopMenu,{downloadType:\"table\",tableData:exportData,fileName:exportFileName}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container mr-2\",children:/*#__PURE__*/_jsx(ThisTable,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"block\"})]})});}export default BIInletPage;","map":{"version":3,"names":["useEffect","useState","AppPageLayout","BasicInfoSideMenu","EditorTopMenu","Cells","TallRow","RowLabel","getBIOutInletRows","separateCamelCase","useSelector","biInletRedux","cloneDeep","parseLabelName","name","separateName","firstlayer","replace","secondLayer","error","console","log","BIInletPage","tableRows","setTableRows","tableColHeaders","setTableColHeaders","exportData","setExportData","BIInletData","theseRows","theseCols","newExportData","forEach","row","newVal","value","join","newRow","rowId","rowIndex","push","TableRows","array","multiRows","filter","normalRows","lastRows","renderedNormalRows","map","rowIdx","columns","col","colIdx","renderedTallRows","renderedLastRows","concat","renderedTableColumns","idx","ThisTable","exportFileName","Date","toISOString"],"sources":["/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/src/pages/03_1BI_InletPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nimport AppPageLayout from \"../components/AppPageLayout\";\nimport BasicInfoSideMenu from \"../components/sideMenus/BasicInfoSideMenu\";\nimport EditorTopMenu from \"../components/EditorTopMenu\";\n\nimport { Cells, TallRow, RowLabel,  getBIOutInletRows } from '../components/basicInfoTable/BIStreamsTableComps';\n\nimport { separateCamelCase } from \"../utils/appUtils\"\nimport { useSelector } from \"react-redux\";\nimport { biInletRedux } from \"../redux/features/basicInfoSlice\";\nimport { cloneDeep } from \"lodash\";\n\nconst parseLabelName = (name) => {\n  try {\n    let separateName = separateCamelCase(name)\n    let firstlayer = separateName.replace(\" List\",\"\")\n    let secondLayer = firstlayer.replace(\"Frac\", \"Fraction\")\n    return secondLayer.replace(\"Fractiontion\", \"Fraction\")\n  } catch (error) {\n    console.log(error)\n    return name\n  }\n}\n\nfunction BIInletPage() {\n  const [tableRows, setTableRows] = useState([])\n  const [tableColHeaders, setTableColHeaders] = useState([])\n  const [exportData, setExportData] = useState([])\n\n  const BIInletData = useSelector(biInletRedux);\n\n  useEffect(()=>{\n    const [theseRows, theseCols] =  getBIOutInletRows(BIInletData);\n    let newExportData = []\n\n    theseRows.forEach(row => {\n      let newVal = row.value.join(\", \")\n      let newRow = cloneDeep(row)\n      delete newRow.rowId\n      delete newRow.rowIndex\n      newExportData.push({...newRow, value: newVal})\n    })\n\n    setExportData(newExportData)\n\n    setTableRows(theseRows)\n    setTableColHeaders([\"Stream Name\", ...theseCols])\n\n  },[BIInletData])\n\n  const TableRows = ({array}) => {\n    const multiRows = array.filter(row => (row.name === \"LiquidConcentrationList\" || row.name === \"MassFlowList\" || row.name === \"MassFracList\" || row.name === \"MoleFlowList\" || row.name === \"MoleFracList\" || row.name === \"VaporConcentrationList\"))\n    const normalRows = array.filter(row => !(row.name === \"LiquidConcentrationList\" || row.name === \"MassFlowList\" || row.name === \"MassFracList\" || row.name === \"MoleFlowList\" || row.name === \"MoleFracList\" || row.name === \"VaporConcentrationList\" || row.name === \"LiquidFraction\" || row.name === \"SolidFraction\" || row.name === \"VaporFraction\"))\n    const lastRows = array.filter(row => row.name === \"LiquidFraction\" || row.name === \"SolidFraction\" || row.name === \"VaporFraction\" )\n\n    const renderedNormalRows = normalRows.map((row, rowIdx) => {\n      const {name, value, rowId} = row;\n  \n      const columns = value.map((col, colIdx) => {\n        return <Cells key={rowId+colIdx} col={col}/>\n      })\n  \n      return(\n        <tr key={rowId}>\n          <RowLabel rowName={parseLabelName(name)} lastRowName={rowIdx !== 0? tableRows[rowIdx-1].name:\"\"}/>\n          {columns}\n        </tr>\n      );\n    })\n\n    const renderedTallRows = multiRows.map((row, rowIdx) => {\n      return <TallRow rowTitle={parseLabelName(row.name)} columns={row.value} key={rowIdx}/>\n    })\n\n    const renderedLastRows = lastRows.map((row, rowIdx) => {\n      const {name, value, rowId} = row;\n  \n      const columns = value.map((col, colIdx) => {\n        return <Cells key={rowId+colIdx} col={col}/>\n      })\n  \n      return(\n        <tr key={rowId}>\n          <RowLabel rowName={parseLabelName(name)} lastRowName={rowIdx !== 0? tableRows[rowIdx-1].name:\"\"}/>\n          {columns}\n        </tr>\n      );\n    })\n\n    return renderedNormalRows.concat(renderedTallRows, renderedLastRows)\n  }\n\n  const renderedTableColumns = tableColHeaders.map((col, idx) => {\n    return <th key={idx} className={idx > 0? \"has-text-white has-text-centered\":\"has-text-white\"}>{col}</th>;\n  })\n\n  const ThisTable = () => {\n    return(\n      <table className=\"table is-hoverable is-narrow is-bordered\">\n        <thead className=\"has-background-primary\">\n          <tr>{renderedTableColumns}</tr>\n        </thead>\n        <tbody>\n          <TableRows array={tableRows}/>\n        </tbody>\n      </table>\n    )\n  }\n\n  const exportFileName = `AspenInfo-Streams-Inlet-Export (${new Date().toISOString()})`\n\n  return(\n    <div>\n      <AppPageLayout sideMenu={<BasicInfoSideMenu/>}>\n        <EditorTopMenu downloadType=\"table\" tableData={exportData} fileName={exportFileName}/>\n\n        <div className=\"table-container mr-2\">\n          <ThisTable/>\n        </div>\n        <div className='block'/>\n\n      </AppPageLayout>\n    </div>\n  );\n}\n\nexport default BIInletPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}