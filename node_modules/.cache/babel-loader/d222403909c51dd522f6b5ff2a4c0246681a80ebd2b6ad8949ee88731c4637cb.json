{"ast":null,"code":"import _objectSpread from\"/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect,useState}from\"react\";import{v4 as uuidv4}from'uuid';import axios from\"axios\";import{httpPaths,allowServerComm}from\"../utils/appConstants\";import{useDispatch,useSelector}from\"react-redux\";import{cloneDeep}from'lodash';import{useNavigate}from\"react-router-dom\";import AppPageLayout from\"../components/AppPageLayout\";import BasicInfoSideMenu from\"../components/sideMenus/BasicInfoSideMenu\";import EditorTopMenu from\"../components/EditorTopMenu\";import{Cells,RowLabel,TallRow}from\"../components/basicInfoTable/BIStreamsTableComps\";import{separateCamelCase}from\"../utils/appUtils\";import{biBlockInfoRedux,update_bi_blockInfo_object}from\"../redux/features/basicInfoSlice\";import{selectedProjectIdRedux}from\"../redux/features/allowedTabsSlice\";import{BIBlockInfoSample}from\"../utils/testData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isItMultiRow=function isItMultiRow(value){if(Array.isArray(value[0])){return true;}return false;};var isItInteresting=function isItInteresting(rowName,value){var finalRes=true;switch(rowName){case\"_id\":finalRes=false;break;case\"project_id\":finalRes=false;break;case\"block_name\":finalRes=false;break;case\"block_type\":finalRes=false;break;default:finalRes=true;break;}if(isItMultiRow(value)){finalRes=false;}return finalRes;};var parseLabelName=function parseLabelName(name){try{if(name===\"NumberofStages\"){return\"Number Of Stages\";}var separateName=separateCamelCase(name);var zeroLayer=separateName.replace(/_/g,\" \");var firstlayer=zeroLayer.replace(\" List\",\"\");var secondLayer=firstlayer.replace(\"Frac\",\"Fraction\");var thirdLayer=secondLayer.replace(\"Fractiontion\",\"Fraction\");return thirdLayer;}catch(error){// console.log(error)\nreturn name;}};function BIBlocksPage(){var navigate=useNavigate();var reduxDispatch=useDispatch();var _useState=useState(\"Column\"),_useState2=_slicedToArray(_useState,2),selectedDisplay=_useState2[0],setSelectedDisplay=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tableRows=_useState4[0],setTableRows=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tableColHeaders=_useState6[0],setTableColHeaders=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),exportData=_useState8[0],setExportData=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showLoadingScreen=_useState10[0],setShowLoadingScreen=_useState10[1];var BIBlocksInfo=useSelector(biBlockInfoRedux);var SelectedProjectId=useSelector(selectedProjectIdRedux);var updateBIBlockInfoObj=useCallback(function(newObj){return reduxDispatch(update_bi_blockInfo_object(newObj));},[reduxDispatch]);var AllowedPages=useSelector(function(state){return state.allowedBasicInfoPages;});useEffect(function(){if(AllowedPages.blockInfo){setShowLoadingScreen(true);if(allowServerComm){axios.get(httpPaths[\"blockInfo\"],{project_id:SelectedProjectId}).then(function(response){var serverResp=response.data;var _getTableBlockInfoTab=getTableBlockInfoTableRows(serverResp[\"COLUMN\"]),_getTableBlockInfoTab2=_slicedToArray(_getTableBlockInfoTab,2),theseRows=_getTableBlockInfoTab2[0],theseCols=_getTableBlockInfoTab2[1];updateBIBlockInfoObj(serverResp);setExportData(theseRows);setTableRows(theseRows);setTableColHeaders([\"Block Name\"].concat(_toConsumableArray(theseCols)));setShowLoadingScreen(false);}).catch(function(e){alert(\"Error on start: \"+e);setShowLoadingScreen(false);navigate(-1);});}else{var serverResp=BIBlockInfoSample;var _getTableBlockInfoTab3=getTableBlockInfoTableRows(serverResp[\"COLUMN\"]),_getTableBlockInfoTab4=_slicedToArray(_getTableBlockInfoTab3,2),theseRows=_getTableBlockInfoTab4[0],theseCols=_getTableBlockInfoTab4[1];updateBIBlockInfoObj(serverResp);setExportData(theseRows);setTableRows(theseRows);setTableColHeaders([\"Block Name\"].concat(_toConsumableArray(theseCols)));setShowLoadingScreen(false);}}else{navigate(-1);}},[SelectedProjectId,updateBIBlockInfoObj,navigate,AllowedPages]);var getTableBlockInfoTableRows=function getTableBlockInfoTableRows(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(data.length>0){var thisTableRows=[];var entries=[];var colHeaders=[];data.forEach(function(obj){colHeaders.push(obj.block_name);var theseEntries=Object.entries(obj);theseEntries.forEach(function(entry){return[entries.push(entry)];});});var objKeys=Object.keys(data[0]);var allRows=[];objKeys.forEach(function(key){var rowArr=entries.filter(function(entry){return entry[0]===key;});var valueArr=[];rowArr.forEach(function(row){return valueArr.push(row[1]);});var newRow={name:rowArr[0][0],value:valueArr};allRows.push(newRow);});var interestRows=allRows.filter(function(entry){return isItInteresting(entry.name,entry.value);});var multiRows=allRows.filter(function(entry){return isItMultiRow(entry.value);});var newMultiRows=[];multiRows.forEach(function(multiRow){var value=multiRow.value,name=multiRow.name;var newValueArray=[];value.forEach(function(subValue){var subArray=[];subValue.forEach(function(item,itemIdx){if(itemIdx>0){subArray.push([item,subValue[0]]);}});newValueArray.push(subArray);});newMultiRows.push({name:name,value:newValueArray});});interestRows.forEach(function(row,rowIndex){thisTableRows.push(_objectSpread(_objectSpread({},row),{},{rowId:uuidv4(),rowIndex:rowIndex}));});newMultiRows.forEach(function(row,rowIndex){thisTableRows.push(_objectSpread(_objectSpread({},row),{},{rowId:uuidv4(),rowIndex:interestRows.length-1+rowIndex}));});var sortedTableRows=cloneDeep(thisTableRows);sortedTableRows.sort(function(a,b){return a.rowIndex>b.rowIndex?1:-1;});return[sortedTableRows,colHeaders];}return[];};var updateSelectedData=function updateSelectedData(){var newData=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"Columns\";setSelectedDisplay(newData);var _getTableBlockInfoTab5=getTableBlockInfoTableRows(BIBlocksInfo[newData.toUpperCase()]),_getTableBlockInfoTab6=_slicedToArray(_getTableBlockInfoTab5,2),theseRows=_getTableBlockInfoTab6[0],theseCols=_getTableBlockInfoTab6[1];setExportData(theseRows);setTableRows(theseRows);setTableColHeaders([\"Block Name\"].concat(_toConsumableArray(theseCols)));};var MenuOptions=[{title:\"Column\",onClick:function onClick(){return updateSelectedData(\"Column\");}},{title:\"Instantaneous\",onClick:function onClick(){return updateSelectedData(\"Instantaneous\");}},{title:\"Compressor\",onClick:function onClick(){return updateSelectedData(\"Compressor\");}},{title:\"Pump\",onClick:function onClick(){return updateSelectedData(\"Pump\");}},{title:\"Exchanger\",onClick:function onClick(){return updateSelectedData(\"Exchanger\");}}];var TableRows=function TableRows(_ref){var array=_ref.array;var interestRows=array.filter(function(row){return isItInteresting(row.name,row.value);});var multiRows=array.filter(function(row){return isItMultiRow(row.value);});var renderedInterestRows=interestRows.map(function(row,rowIdx){var name=row.name,value=row.value,rowId=row.rowId;var columns=value.map(function(col,colIdx){return/*#__PURE__*/_jsx(Cells,{col:col},rowId+colIdx);});return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(RowLabel,{rowName:parseLabelName(name),lastRowName:rowIdx!==0?tableRows[rowIdx-1].name:\"\"}),columns]},rowId);});var renderedTallRows=multiRows.map(function(row,rowIdx){return/*#__PURE__*/_jsx(TallRow,{rowTitle:parseLabelName(row.name),columns:row.value},rowIdx);});return renderedInterestRows.concat(renderedTallRows);};var renderedTableColumns=tableColHeaders.map(function(col,idx){return/*#__PURE__*/_jsx(\"th\",{className:idx>0?\"has-text-white has-text-centered\":\"has-text-white\",children:col},idx);});var ThisTable=function ThisTable(){return/*#__PURE__*/_jsxs(\"table\",{className:\"table is-hoverable is-narrow is-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"has-background-primary\",children:/*#__PURE__*/_jsx(\"tr\",{children:renderedTableColumns})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(TableRows,{array:tableRows})})]});};var exportFileName=\"AspenInfo-Blocks-Block-Info-Export (\".concat(new Date().toISOString(),\")\");if(!showLoadingScreen){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(AppPageLayout,{sideMenu:/*#__PURE__*/_jsx(BasicInfoSideMenu,{}),children:[/*#__PURE__*/_jsx(EditorTopMenu,{menuOptions:MenuOptions,selected:selectedDisplay,downloadType:\"table\",tableData:exportData,fileName:exportFileName}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container mr-2\",children:/*#__PURE__*/_jsx(ThisTable,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"block\"})]})});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"pageloader is-active has-background-white is-light\",children:/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"Loading...\"})});}}export default BIBlocksPage;","map":{"version":3,"names":["useCallback","useEffect","useState","v4","uuidv4","axios","httpPaths","allowServerComm","useDispatch","useSelector","cloneDeep","useNavigate","AppPageLayout","BasicInfoSideMenu","EditorTopMenu","Cells","RowLabel","TallRow","separateCamelCase","biBlockInfoRedux","update_bi_blockInfo_object","selectedProjectIdRedux","BIBlockInfoSample","isItMultiRow","value","Array","isArray","isItInteresting","rowName","finalRes","parseLabelName","name","separateName","zeroLayer","replace","firstlayer","secondLayer","thirdLayer","error","BIBlocksPage","navigate","reduxDispatch","selectedDisplay","setSelectedDisplay","tableRows","setTableRows","tableColHeaders","setTableColHeaders","exportData","setExportData","showLoadingScreen","setShowLoadingScreen","BIBlocksInfo","SelectedProjectId","updateBIBlockInfoObj","newObj","AllowedPages","state","allowedBasicInfoPages","blockInfo","get","project_id","then","response","serverResp","data","getTableBlockInfoTableRows","theseRows","theseCols","catch","e","alert","length","thisTableRows","entries","colHeaders","forEach","obj","push","block_name","theseEntries","Object","entry","objKeys","keys","allRows","key","rowArr","filter","valueArr","row","newRow","interestRows","multiRows","newMultiRows","multiRow","newValueArray","subValue","subArray","item","itemIdx","rowIndex","rowId","sortedTableRows","sort","a","b","updateSelectedData","newData","toUpperCase","MenuOptions","title","onClick","TableRows","array","renderedInterestRows","map","rowIdx","columns","col","colIdx","renderedTallRows","concat","renderedTableColumns","idx","ThisTable","exportFileName","Date","toISOString"],"sources":["/Users/mariasherpaspace/Documents/SherpaSpaceWorkFiles/Projects/LCA-TEA/LCA-TEA Coding/lca-tea-app/src/pages/03_3BI_BlocksPage.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from 'uuid';\n\nimport axios from \"axios\";\nimport { httpPaths, allowServerComm } from \"../utils/appConstants\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cloneDeep } from 'lodash';\nimport { useNavigate } from \"react-router-dom\";\n\nimport AppPageLayout from \"../components/AppPageLayout\";\nimport BasicInfoSideMenu from \"../components/sideMenus/BasicInfoSideMenu\";\nimport EditorTopMenu from \"../components/EditorTopMenu\";\n\nimport { Cells, RowLabel, TallRow } from \"../components/basicInfoTable/BIStreamsTableComps\";\n\nimport { separateCamelCase } from \"../utils/appUtils\";\nimport { biBlockInfoRedux, update_bi_blockInfo_object } from \"../redux/features/basicInfoSlice\";\nimport { selectedProjectIdRedux } from \"../redux/features/allowedTabsSlice\";\nimport { BIBlockInfoSample } from \"../utils/testData\";\n\nconst isItMultiRow = (value) => {\n  if(Array.isArray(value[0])){\n    return true\n  }\n  return false\n}\n\nconst isItInteresting = (rowName, value) => {\n  let finalRes = true\n  switch (rowName) {\n    case \"_id\":\n      finalRes = false;\n      break;\n    case \"project_id\":\n      finalRes = false;\n      break;\n    case \"block_name\":\n      finalRes = false;\n      break;\n    case \"block_type\":\n      finalRes = false;\n      break;\n    default:\n      finalRes = true;\n      break;\n  }\n\n  if(isItMultiRow(value)){\n    finalRes = false;\n  }\n\n  return finalRes;\n}\n\nconst parseLabelName = (name) => {\n  try {\n    if(name === \"NumberofStages\"){\n      return \"Number Of Stages\"\n    }\n\n    let separateName = separateCamelCase(name)\n    let zeroLayer = separateName.replace(/_/g, \" \")\n    let firstlayer = zeroLayer.replace(\" List\",\"\")\n    let secondLayer = firstlayer.replace(\"Frac\", \"Fraction\")\n    let thirdLayer = secondLayer.replace(\"Fractiontion\", \"Fraction\")\n    return thirdLayer\n\n  } catch (error) {\n    // console.log(error)\n    return name\n  }\n}\n\nfunction BIBlocksPage() {\n  const navigate = useNavigate();\n  const reduxDispatch = useDispatch();\n\n  const [selectedDisplay, setSelectedDisplay] = useState(\"Column\")\n  const [tableRows, setTableRows] = useState([])\n  const [tableColHeaders, setTableColHeaders] = useState([])\n  const [exportData, setExportData] = useState([])\n  const [showLoadingScreen, setShowLoadingScreen] = useState(false)\n\n  const BIBlocksInfo = useSelector(biBlockInfoRedux);\n  const SelectedProjectId = useSelector(selectedProjectIdRedux);\n\n  const updateBIBlockInfoObj = useCallback((newObj) => reduxDispatch(update_bi_blockInfo_object(newObj)), [reduxDispatch]);\n\n  const AllowedPages = useSelector(state => state.allowedBasicInfoPages);\n\n  useEffect(()=>{\n    if(AllowedPages.blockInfo){\n      setShowLoadingScreen(true)\n      if(allowServerComm){        \n        axios.get(httpPaths[\"blockInfo\"], { project_id: SelectedProjectId })\n        .then((response)=>{\n          let serverResp = response.data;\n          const [theseRows, theseCols] = getTableBlockInfoTableRows(serverResp[\"COLUMN\"]);\n          updateBIBlockInfoObj(serverResp);\n          setExportData(theseRows);\n          setTableRows(theseRows);\n          setTableColHeaders([\"Block Name\", ...theseCols])\n          setShowLoadingScreen(false)\n        }).catch(e => {\n          alert(\"Error on start: \"+e)\n          setShowLoadingScreen(false)\n          navigate(-1)\n        })\n      }else{\n        let serverResp = BIBlockInfoSample;\n        const [theseRows, theseCols] = getTableBlockInfoTableRows(serverResp[\"COLUMN\"]);\n        updateBIBlockInfoObj(serverResp);\n        setExportData(theseRows);\n        setTableRows(theseRows);\n        setTableColHeaders([\"Block Name\", ...theseCols])\n        setShowLoadingScreen(false)\n      }\n    }else{\n      navigate(-1)\n    }\n  },[SelectedProjectId, updateBIBlockInfoObj, navigate, AllowedPages])\n\n  const getTableBlockInfoTableRows = (data = []) => {\n    if(data.length>0){\n      let thisTableRows = [];\n  \n      let entries = []\n      let colHeaders = []\n  \n      data.forEach((obj) => {\n        colHeaders.push(obj.block_name);\n  \n        let theseEntries = Object.entries(obj)\n        \n        theseEntries.forEach(entry => [\n          entries.push(entry)\n        ])\n      })\n\n      let objKeys = Object.keys(data[0]);\n\n      let allRows = []\n  \n      objKeys.forEach(key => {\n        let rowArr = entries.filter(entry => entry[0] === key);\n        let valueArr = []\n  \n        rowArr.forEach(row => valueArr.push(row[1]))\n  \n        let newRow = {\n          name: rowArr[0][0],\n          value: valueArr\n        }\n        allRows.push(newRow)\n      })\n\n      \n      let interestRows = allRows.filter(entry => isItInteresting(entry.name, entry.value));\n      let multiRows = allRows.filter(entry => isItMultiRow(entry.value));\n\n      let newMultiRows = []\n      multiRows.forEach((multiRow) => {\n        const {value, name} = multiRow;\n  \n        let newValueArray = []\n  \n        value.forEach((subValue) => {\n          let subArray = []\n          subValue.forEach((item, itemIdx)=>{\n            if(itemIdx>0){ \n              subArray.push([item,subValue[0]])\n            }\n          })\n  \n          newValueArray.push(subArray)\n        })\n\n        newMultiRows.push({name, value: newValueArray})\n      })\n\n      interestRows.forEach((row, rowIndex) => {\n        thisTableRows.push({...row, rowId: uuidv4(), rowIndex})\n      })\n\n      newMultiRows.forEach((row, rowIndex )=> {\n        thisTableRows.push({...row, rowId: uuidv4(), rowIndex: (interestRows.length-1)+rowIndex})\n      })\n  \n      let sortedTableRows = cloneDeep(thisTableRows)\n  \n      sortedTableRows.sort((a, b) => (a.rowIndex > b.rowIndex) ? 1 : -1)\n  \n      return [sortedTableRows, colHeaders]\n    }\n\n    return []\n  }\n\n  const updateSelectedData = (newData = \"Columns\") => {\n    setSelectedDisplay(newData)\n\n    const [theseRows, theseCols] = getTableBlockInfoTableRows(BIBlocksInfo[newData.toUpperCase()]);\n    setExportData(theseRows);\n    setTableRows(theseRows);\n    setTableColHeaders([\"Block Name\", ...theseCols])\n  }\n\n  const MenuOptions = [\n    {\n      title: \"Column\",\n      onClick: () => updateSelectedData(\"Column\")\n    },\n    {\n      title: \"Instantaneous\",\n      onClick: () => updateSelectedData(\"Instantaneous\")\n    },\n    {\n      title: \"Compressor\",\n      onClick: () => updateSelectedData(\"Compressor\")\n    },\n    {\n      title: \"Pump\",\n      onClick: () => updateSelectedData(\"Pump\")\n    },\n    {\n      title: \"Exchanger\",\n      onClick: () => updateSelectedData(\"Exchanger\")\n    }\n  ]\n\n  const TableRows = ({array}) => {\n    const interestRows = array.filter(row => isItInteresting(row.name, row.value))\n    const multiRows = array.filter(row => isItMultiRow(row.value))\n\n    const renderedInterestRows = interestRows.map((row, rowIdx) => {\n      const {name, value, rowId} = row;\n  \n      const columns = value.map((col, colIdx) => {\n        return <Cells key={rowId+colIdx} col={col}/>\n      })\n  \n      return(\n        <tr key={rowId}>\n          <RowLabel rowName={parseLabelName(name)} lastRowName={rowIdx !== 0? tableRows[rowIdx-1].name:\"\"}/>\n          {columns}\n        </tr>\n      );\n    })\n\n    const renderedTallRows = multiRows.map((row, rowIdx) => {\n      return <TallRow rowTitle={parseLabelName(row.name)} columns={row.value} key={rowIdx}/>\n    })\n\n    return renderedInterestRows.concat(renderedTallRows)\n  }\n\n  const renderedTableColumns = tableColHeaders.map((col, idx) => {\n    return <th key={idx} className={idx > 0? \"has-text-white has-text-centered\":\"has-text-white\"}>{col}</th>;\n  })\n\n  const ThisTable = () => {\n    return(\n      <table className=\"table is-hoverable is-narrow is-bordered\">\n        <thead className=\"has-background-primary\">\n          <tr>{renderedTableColumns}</tr>\n        </thead>\n        <tbody>\n          <TableRows array={tableRows}/>\n        </tbody>\n      </table>\n    )\n  }\n\n  const exportFileName = `AspenInfo-Blocks-Block-Info-Export (${new Date().toISOString()})`\n\n  if(!showLoadingScreen){\n    return(\n      <div>\n        <AppPageLayout sideMenu={<BasicInfoSideMenu/>}>\n          <EditorTopMenu menuOptions={MenuOptions} selected={selectedDisplay} downloadType=\"table\" tableData={exportData} fileName={exportFileName}/>\n          <div className=\"table-container mr-2\">\n            <ThisTable/>\n          </div>\n          <div className='block'/>\n        </AppPageLayout>\n      </div>\n    );\n  }else{\n    return(\n      <div className=\"pageloader is-active has-background-white is-light\"><span className=\"title\">Loading...</span></div>\n    );\n  }\n}\n \nexport default BIBlocksPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}